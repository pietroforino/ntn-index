---
import Menu from "../components/Menu.astro";
import "../css/style.scss";
import { AstroSeo } from "@astrolib/seo";
import { getContacts } from "../data/strapi";

const contacts = await getContacts();
---

<AstroSeo
  title="Contacts | NTNINDEX - Antonio Cioppa Architect in Milan"
  description="Architect Antonio Cioppa (1991), Milan-based, works across interiors, installations, product & graphic design with a radical industrial grammar."
  canonical="https://www.ntnindex.com/"
  openGraph={{
    url: "https://www.ntnindex.com/",
    title: "Contacts | NTNINDEX - Antonio Cioppa | Architect in Milan",
    description:
      "Architect Antonio Cioppa (1991), Milan-based, works across interiors, installations, product & graphic design with a radical industrial grammar.",
    images: [
      {
        url: "https://www.ntnindex.com/pixel.jpg",
        width: 800,
        height: 600,
        alt: "Og Image Alt",
        type: "image/jpeg",
      },
    ],
    site_name: "NTNINDEX",
  }}
/>;

<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />

    <script>
      (function () {
        try {
          const saved = localStorage.getItem("theme");
          if (saved === "night") {
            document.documentElement.dataset.theme = "night";
          } else {
            document.documentElement.dataset.theme = "day";
          }
        } catch (e) {}
      })();
    </script>
  </head>
  <body>
    <main style="justify-content: flex-start;">
      <Menu />

      <div class="container">
        <div class="row">
          <div class="left" style="font-size: .8rem;">
            <div style="visibility: hidden;">
              <span>ntn/00</span>
              <span>0000</span>
            </div>

            <div
              style="display:flex; flex-direction: column;pointer-events: all; gap: .25rem"
            >
              {
                contacts.single.map(
                  (item: {
                    label: unknown;
                    link: string | URL | null | undefined;
                    content: unknown;
                  }) => (
                    <div style="pointer-events: all">
                      <p style="width: 100px;">{item.label}:</p>{" "}
                      {item.link ? (
                        <a href={item.link}>
                          <p>{item.content}</p>
                        </a>
                      ) : (
                        <p>{item.content}</p>
                      )}
                      <br />
                    </div>
                  )
                )
              }
            </div>
          </div>
        </div>
      </div>
    </main>
  </body>
</html>

<style lang="scss">
  a {
    color: white;
    text-decoration: none;

    &:hover {
      text-decoration: underline;
    }
  }
  @media (max-width: 720px) {
    .left {
      width: 100% !important;
    }
  }
</style>

<script>
  const saved = localStorage.getItem("theme");
  if (saved === "night") {
    document.querySelector("main")?.classList.add("night");
  }
</script>
